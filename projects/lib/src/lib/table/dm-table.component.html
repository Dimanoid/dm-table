<div class="ngx-dmt-header-wrapper" [style.padding-right.px]="scrollBarWidth">
    <table class="ngx-dmt ngx-dmt-header">
        <colgroup>
            <col *ngFor="let cw of colWidths; let i = index" [style.width.px]="resizeColumnIndex > -1 ? colWidthsTmp[i] : cw">
        </colgroup>
        <thead>
            <tr class="ngx-dmt-header-row"
                cdkDropList cdkDropListOrientation="horizontal"
                (cdkDropListDropped)="columnHeaderDrop($event)">
                <th *ngFor="let ct of columnTemplates; let i = index; let l = last"
                    class="ngx-dmt-header-cell"
                    [ngClass]="ct.headerClass"
                    cdkDrag cdkDragBoundary=".ngx-dmt-header-row">
                    <div class="ngx-dmt-column-title">
                        <!-- {{ resizeColumnIndex > -1 ? colWidthsTmp[i] : colWidths[i] }} <small class="fw-n">({{ ct.minWidth }} - {{ ct.maxWidth ? ct.maxWidth : 'âˆž' }})</small> -->
                        <ng-container *ngIf="ct.headerTpl" [ngTemplateOutlet]="ct.headerTpl"></ng-container>
                        <ng-template [ngIf]="!ct.headerTpl">{{ ct.title }}</ng-template>
                    </div>
                    <div class="ngx-dmt-column-draghandle" cdkDragHandle><i class="ngx-dmt-column-draghandle-icon ngx-dmt-icon-font"></i></div>
                    <div *ngIf="ct.sortable" class="ngx-dmt-column-sort-container"><i class="ngx-dmt-column-sort-toggle ngx-dmt-icon-font"></i></div>
                    <div *ngIf="ct.resizeable && !l" class="ngx-dmt-resizer"
                        [class.ngx-dmt-resizer-dragging]="resizeColumnIndex == i"
                        (mousedown)="resizeColumnStart(i, $event)">
                    </div>
                </th>
            </tr>
        </thead>
    </table>
</div>
<div class="ngx-dmt-body-wrapper">
    <cdk-virtual-scroll-viewport [itemSize]="itemSize" class="ngx-dmt-body-wrapper-inner">
        <table class="ngx-dmt ngx-dmt-body"
            [class.ngx-dmt-stripes]="stripes">
            <colgroup>
                <col *ngFor="let cw of colWidths" [style.width.px]="cw">
            </colgroup>
            <tbody *ngIf="rows">
                <tr *cdkVirtualFor="let r of rows; let ri = index">
                    <td *ngFor="let ct of columnTemplates; let i = index"
                        [ngClass]="ct.cellClass"
                        [style.white-space]="ct.whitespace">
                        <ng-container *ngIf="ct.cellTpl"
                            [ngTemplateOutlet]="ct.cellTpl"
                            [ngTemplateOutletContext]="{ row: r, ct: ct, $implicit: r[columnsOrder[i]], ci: i, ri: ri }">
                        </ng-container>
                        <ng-template [ngIf]="!ct.cellTpl">{{ r[columnsOrder[i]] }}</ng-template>
                    </td>
                </tr>
            </tbody>
        </table>
    </cdk-virtual-scroll-viewport>
</div>
<div *ngIf="hasFooter" class="ngx-dmt-footer-wrapper" [style.padding-right.px]="scrollBarWidth">
    <table class="ngx-dmt ngx-dmt-header">
        <colgroup>
            <col *ngFor="let cw of colWidths" [style.width.px]="cw">
        </colgroup>
        <tfoot>
            <tr>
                <td *ngFor="let ct of columnTemplates" [ngClass]="ct.footerClass">
                    <ng-container *ngIf="ct.footerTpl" [ngTemplateOutlet]="ct.footerTpl"></ng-container>
                    <ng-template [ngIf]="!ct.footerTpl">&nbsp;</ng-template>
                </td>
            </tr>
        </tfoot>
    </table>
</div>
<!-- 
<div class="ngx-dmt-footer-wrapper mt05 mb05" [style.padding-right.px]="scrollBarWidth">
    resizeColumnIndex: {{ resizeColumnIndex }},
    resizeColumnStartPoint: {{ resizeColumnStartPoint | json }},
    resizeColumnWidth: {{ resizeColumnWidth }}
</div>
 -->
